import numpy as np
import matplotlib.pyplot as plt
import math

T = 10      # 波周期
h = 16      # 水深
g = 9.8     # 重力加速度
L = (g*math.pow(T,2))/(2*math.pi)       # 为波长赋初值
x = np.linspace(0,99,100)        # x变量数组（迭代次数）
y = np.linspace(0,99,100)        # y变量数组，每次迭代的新波长L的值
# 通过色散方程对波长L进行迭代
for i in range(100):
    temp = L
    L = ((g*math.pow(T,2))/(2*math.pi))*math.tanh((2*math.pi*h)/L)
    L = (temp+L)/2
    y[i] = L        # 将y变量数组用迭代得出的新的波长L值进行更新

print(L)
print(y)
plt.axes()
plt.plot(x,y)       # 绘制x,y图像
plt.show()

'''
最后L的值为111.71424163460395

迭代值数组为[ 122.28088452  113.87673222  112.13850461  111.79675437  111.73026162
  111.7173509   111.71484506  111.71435874  111.71426436  111.71424605
  111.71424249  111.7142418   111.71424167  111.71424164  111.71424164
  111.71424163  111.71424163  111.71424163  111.71424163  111.71424163
  111.71424163  111.71424163  111.71424163  111.71424163  111.71424163
  111.71424163  111.71424163  111.71424163  111.71424163  111.71424163
  111.71424163  111.71424163  111.71424163  111.71424163  111.71424163
  111.71424163  111.71424163  111.71424163  111.71424163  111.71424163
  111.71424163  111.71424163  111.71424163  111.71424163  111.71424163
  111.71424163  111.71424163  111.71424163  111.71424163  111.71424163
  111.71424163  111.71424163  111.71424163  111.71424163  111.71424163
  111.71424163  111.71424163  111.71424163  111.71424163  111.71424163
  111.71424163  111.71424163  111.71424163  111.71424163  111.71424163
  111.71424163  111.71424163  111.71424163  111.71424163  111.71424163
  111.71424163  111.71424163  111.71424163  111.71424163  111.71424163
  111.71424163  111.71424163  111.71424163  111.71424163  111.71424163
  111.71424163  111.71424163  111.71424163  111.71424163  111.71424163
  111.71424163  111.71424163  111.71424163  111.71424163  111.71424163
  111.71424163  111.71424163  111.71424163  111.71424163  111.71424163
  111.71424163  111.71424163  111.71424163  111.71424163  111.71424163]
  
  若要以小数点后两位为精确度，只要迭代7次
'''