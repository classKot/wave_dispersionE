import numpy as np
import matplotlib.pyplot as plt
import math

T = 10      # 波周期
h = 16      # 水深
g = 9.8     # 重力加速度
L = (g*math.pow(T,2))/(2*math.pi)       # 为波长赋初值
x = np.linspace(0,99,100)        # x变量数组（迭代次数）
y = np.linspace(0,99,100)        # y变量数组，每次迭代的新波长L的值
# 通过色散方程对波长L进行迭代
for i in range(100):
    L = ((g*math.pow(T,2))/(2*math.pi))*math.tanh((2*math.pi*h)/L)
    y[i] = L        # 将y变量数组用迭代得出的新的波长L值进行更新

print(L)
plt.axes()
plt.plot(x,y)       # 绘制x,y图像
plt.show()

'''
最后L的值为：111.71424163460395

而y数组为：[  88.58992481  126.75087613  102.96998517  117.20746338  108.41292831
  113.75511674  110.47368259  112.47626916  111.24912297  111.9992484
  111.54001643  111.82090168  111.64900305  111.75416663  111.68981633
  111.7291876   111.70509727  111.71983684  111.71081822  111.7163363
  111.71296001  111.71502581  111.71376183  111.71453521  111.71406201
  111.71435154  111.71417439  111.71428278  111.71421646  111.71425704
  111.71423221  111.7142474   111.71423811  111.71424379  111.71424031
  111.71424244  111.71424114  111.71424194  111.71424145  111.71424175
  111.71424157  111.71424168  111.71424161  111.71424165  111.71424162
  111.71424164  111.71424163  111.71424164  111.71424163  111.71424164
  111.71424163  111.71424163  111.71424163  111.71424163  111.71424163
  111.71424163  111.71424163  111.71424163  111.71424163  111.71424163
  111.71424163  111.71424163  111.71424163  111.71424163  111.71424163
  111.71424163  111.71424163  111.71424163  111.71424163  111.71424163
  111.71424163  111.71424163  111.71424163  111.71424163  111.71424163
  111.71424163  111.71424163  111.71424163  111.71424163  111.71424163
  111.71424163  111.71424163  111.71424163  111.71424163  111.71424163
  111.71424163  111.71424163  111.71424163  111.71424163  111.71424163
  111.71424163  111.71424163  111.71424163  111.71424163  111.71424163
  111.71424163  111.71424163  111.71424163  111.71424163  111.71424163]
  
  若要精确度在小数点后两位的话，需要至少迭代19次
'''
